{% extends 'base.html.twig' %}

{% block title %}Nouvel(le) Compagnie/Ville/Aéroport{% endblock %}

{% block body %}
    <div class="col-md-4">
        <h2>Ajout d'une nouvelle compagnie</h2>
        {{ form(companyForm) }}
        <hr>
        <h2>Ajout d'une nouvelle ville</h2>
        {{ form(cityForm) }}
        <hr>
        <h2>Ajout d'un nouvel aéroport</h2>
        {{ form(airportForm) }}

        {% if app.session.flashBag.has("info") %}
            <div class="alert alert-info">
                {% for message in app.session.flashBag.get("info") %}
                    <li style="list-style-type: none">{{ message }}</li>
                {% endfor %}
            </div>
        {% endif %}

        {% if app.session.flashBag.has("error") %}
            <div class="alert alert-danger">
                {% for message in app.session.flashBag.get("error") %}
                    <li style="list-style-type: none">{{ message }}</li>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <div class="col-md-6 col-md-offset-1">
        <h2 style="text-align: center">Liste des compagnies</h2>
        <table class="table table-striped table-bordered">
            <tr>
                <th>Nom de la compagnie</th>
            </tr>
            {% for company in listCompany %}
                <tr>
                    <td>{{ company.name }}</td>
                </tr>
            {% endfor %}
        </table>

        <hr>
        <h2 style="text-align: center">Liste des villes</h2>
        <table class="table table-striped table-bordered">
            <tr>
                <th>Nom de la ville</th>
                <th>Code postal</th>
            </tr>
            {% for city in listCity %}
                <tr>
                    <td>{{ city.name }}</td>
                    <td>{{ city.zipCode }}</td>
                </tr>
            {% endfor %}
        </table>

        <hr>
        <h2 style="text-align: center">Liste des aéroports</h2>
        <table class="table table-striped table-bordered">
            <tr>
                <th>Nom de l'aéroport</th>
                <th>Ville</th>
                <th>Code postal</th>
            </tr>
            {% for airport in listAirport %}
                <tr>
                    <td>{{ airport.name }}</td>
                    <td>{{ airport.city.name }}</td>
                    <td>{{ airport.city.zipCode }}</td>
                </tr>
            {% endfor %}
        </table>
    </div>


{% endblock %}